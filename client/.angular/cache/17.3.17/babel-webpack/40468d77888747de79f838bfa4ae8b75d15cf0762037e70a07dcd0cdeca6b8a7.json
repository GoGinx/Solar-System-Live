{"ast":null,"code":"import { catchError, map, of, shareReplay } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"./planet.service\";\nexport let SolarSystemCatalogService = /*#__PURE__*/(() => {\n  class SolarSystemCatalogService {\n    constructor(http, planetService) {\n      this.http = http;\n      this.planetService = planetService;\n      this.catalog$ = this.http.get('assets/solar-system-catalog.json').pipe(catchError(() => of(this.buildFallbackCatalog())), shareReplay({\n        bufferSize: 1,\n        refCount: false\n      }));\n    }\n    getCatalog() {\n      return this.catalog$;\n    }\n    getPlanets() {\n      return this.catalog$.pipe(map(c => c.planets));\n    }\n    getStar() {\n      return this.catalog$.pipe(map(c => c.star));\n    }\n    buildFallbackCatalog() {\n      return {\n        source: 'fallback-hardcoded',\n        updatedAt: new Date().toISOString(),\n        star: {\n          id: 'sun',\n          displayName: 'Soleil',\n          color: '#ffcc33',\n          radiusKm: 695700,\n          massKg: 1.9885e30,\n          meanSurfaceTempK: 5772,\n          referenceUrl: 'https://en.wikipedia.org/wiki/Sun',\n          info: \"Etoile au centre du Systeme solaire.\"\n        },\n        planets: this.planetService.getPlanets()\n      };\n    }\n    static {\n      this.ɵfac = function SolarSystemCatalogService_Factory(t) {\n        return new (t || SolarSystemCatalogService)(i0.ɵɵinject(i1.HttpClient), i0.ɵɵinject(i2.PlanetService));\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: SolarSystemCatalogService,\n        factory: SolarSystemCatalogService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return SolarSystemCatalogService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}