{"ast":null,"code":"import { animationFrames, interval, sampleTime, startWith, switchMap } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/voyager.service\";\nimport * as i2 from \"../../services/time-scrubber.service\";\nimport * as i3 from \"../../services/i18n.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../pipes/translate.pipe\";\nfunction VoyagerMapComponent__svg_circle_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"circle\", 16);\n  }\n  if (rf & 2) {\n    const r_r1 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵattribute(\"cx\", ctx_r1.centerX)(\"cy\", ctx_r1.centerY)(\"r\", ctx_r1.auToRadiusPx(r_r1));\n  }\n}\nfunction VoyagerMapComponent__svg_g_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"g\", 17);\n    i0.ɵɵlistener(\"click\", function VoyagerMapComponent__svg_g_17_Template_g_click_0_listener($event) {\n      const n_r4 = i0.ɵɵrestoreView(_r3).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext();\n      ctx_r1.openNode(n_r4);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(1, \"circle\", 18);\n    i0.ɵɵelementStart(2, \"text\", 19);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"t\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const n_r4 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"galaxy\", n_r4.kind === \"galaxy\");\n    i0.ɵɵattribute(\"cx\", n_r4.x)(\"cy\", n_r4.y);\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"x\", n_r4.x + 8)(\"y\", n_r4.y + 4);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 7, n_r4.titleKey));\n  }\n}\nfunction VoyagerMapComponent__svg_g_18__svg_g_1__svg_text_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"text\", 39);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const years_r7 = ctx.ngIf;\n    const v_r6 = i0.ɵɵnextContext().$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"x\", ctx_r1.voyagerX(v_r6) + 14)(\"y\", ctx_r1.voyagerY(v_r6) + 26);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" ~\", i0.ɵɵpipeBind2(2, 4, years_r7, \"1.1-1\"), \" \", i0.ɵɵpipeBind1(3, 7, \"unit.yearShort\"), \" \");\n  }\n}\nfunction VoyagerMapComponent__svg_g_18__svg_g_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"g\", 22);\n    i0.ɵɵelement(1, \"path\", 23)(2, \"line\", 24);\n    i0.ɵɵelementStart(3, \"g\", 25);\n    i0.ɵɵlistener(\"click\", function VoyagerMapComponent__svg_g_18__svg_g_1_Template_g_click_3_listener($event) {\n      const v_r6 = i0.ɵɵrestoreView(_r5).$implicit;\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      ctx_r1.openVoyager(v_r6);\n      return i0.ɵɵresetView($event.stopPropagation());\n    });\n    i0.ɵɵelement(4, \"circle\", 26)(5, \"rect\", 27)(6, \"circle\", 28)(7, \"circle\", 29)(8, \"line\", 30)(9, \"line\", 31)(10, \"line\", 32)(11, \"circle\", 33)(12, \"circle\", 34)(13, \"circle\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"text\", 36);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"text\", 37);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(18, VoyagerMapComponent__svg_g_18__svg_g_1__svg_text_18_Template, 4, 9, \"text\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const v_r6 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"active\", v_r6.id === (ctx_r1.active == null ? null : ctx_r1.active.id))(\"selected\", ctx_r1.isSelectedVoyager(v_r6))(\"voyager2\", v_r6.id === \"voyager2\");\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"d\", ctx_r1.voyagerTrailPath(v_r6));\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"x1\", ctx_r1.centerX)(\"y1\", ctx_r1.centerY)(\"x2\", ctx_r1.voyagerX(v_r6))(\"y2\", ctx_r1.voyagerY(v_r6));\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"transform\", ctx_r1.probeTransform(v_r6));\n    i0.ɵɵadvance(11);\n    i0.ɵɵattribute(\"x\", ctx_r1.voyagerX(v_r6) + 14)(\"y\", ctx_r1.voyagerY(v_r6) - 10);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", v_r6.id === \"voyager2\" ? \"Voyager 2\" : \"Voyager 1\", \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"x\", ctx_r1.voyagerX(v_r6) + 14)(\"y\", ctx_r1.voyagerY(v_r6) + 10);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.formatDistanceLabelAu(v_r6.distanceFromSun == null ? null : v_r6.distanceFromSun.au), \" \");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.travelYears(v_r6));\n  }\n}\nfunction VoyagerMapComponent__svg_g_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"g\", 20);\n    i0.ɵɵtemplate(1, VoyagerMapComponent__svg_g_18__svg_g_1_Template, 19, 19, \"g\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.voyagers)(\"ngForTrackBy\", ctx_r1.trackByVoyagerId);\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3__svg_circle_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelement(0, \"circle\", 63);\n  }\n  if (rf & 2) {\n    const r_r10 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(3);\n    i0.ɵɵattribute(\"cx\", ctx_r1.miniCenter)(\"cy\", ctx_r1.miniCenter)(\"r\", ctx_r1.miniRadiusPx(r_r10));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_ng_container_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"number\");\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const years_r11 = ctx.ngIf;\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(2, 2, years_r11, \"1.1-1\"), \" \", i0.ɵɵpipeBind1(3, 5, \"unit.yearShort\"), \" \");\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_ng_template_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtext(0, \"-\");\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.source\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r12.voyager.source);\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.referenceFrame\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r12.voyager.referenceFrame);\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵpipe(7, \"t\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const years_r13 = ctx.ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 3, \"label.timeScaleYears\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind2(6, 5, years_r13, \"1.1-1\"), \" \", i0.ɵɵpipeBind1(7, 8, \"unit.yearShort\"), \"\");\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_42_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.distanceSunKm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.distanceFromSun == null ? null : p_r12.voyager.distanceFromSun.km, \"1.0-0\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.distanceSunMiles\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.distanceFromSun == null ? null : p_r12.voyager.distanceFromSun.miles, \"1.0-0\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_44_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.distanceEarth\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(6, 4, p_r12.voyager.distanceFromEarth == null ? null : p_r12.voyager.distanceFromEarth.au, \"1.1-1\"), \" AU\");\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_45_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.distanceEarthKm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.distanceFromEarth == null ? null : p_r12.voyager.distanceFromEarth.km, \"1.0-0\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_46_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.distanceEarthMiles\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.distanceFromEarth == null ? null : p_r12.voyager.distanceFromEarth.miles, \"1.0-0\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_54_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.speedAuPerDay\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.speed == null ? null : p_r12.voyager.speed.auPerDay, \"1.3-4\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_55_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.speedMilesPerS\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.speed == null ? null : p_r12.voyager.speed.milesPerS, \"1.2-2\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_56_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.positionXAu\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.positionAu == null ? null : p_r12.voyager.positionAu.x, \"1.3-3\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_57_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.positionYAu\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.positionAu == null ? null : p_r12.voyager.positionAu.y, \"1.3-3\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_58_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.positionZAu\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.positionAu == null ? null : p_r12.voyager.positionAu.z, \"1.3-3\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_59_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.vxAuDay\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.velocityAuPerDay == null ? null : p_r12.voyager.velocityAuPerDay.vx, \"1.4-5\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_60_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.vyAuDay\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.velocityAuPerDay == null ? null : p_r12.voyager.velocityAuPerDay.vy, \"1.4-5\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_61_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.vzAuDay\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.velocityAuPerDay == null ? null : p_r12.voyager.velocityAuPerDay.vz, \"1.4-5\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.positionXKm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.positionKm == null ? null : p_r12.voyager.positionKm.x, \"1.0-0\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.positionYKm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.positionKm == null ? null : p_r12.voyager.positionKm.y, \"1.0-0\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_64_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.positionZKm\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.positionKm == null ? null : p_r12.voyager.positionKm.z, \"1.0-0\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_65_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.vxKmS\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.velocityKmPerS == null ? null : p_r12.voyager.velocityKmPerS.vx, \"1.2-2\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_66_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.vyKmS\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.velocityKmPerS == null ? null : p_r12.voyager.velocityKmPerS.vy, \"1.2-2\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_67_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.vzKmS\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.voyager.velocityKmPerS == null ? null : p_r12.voyager.velocityKmPerS.vz, \"1.2-2\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_68_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.lightTimeOneWay\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(6, 4, p_r12.voyager.lightTime == null ? null : p_r12.voyager.lightTime.oneWayMinutes, \"1.1-1\"), \" min\");\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_69_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.lightTimeTwoWay\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(6, 4, p_r12.voyager.lightTime == null ? null : p_r12.voyager.lightTime.twoWayMinutes, \"1.1-1\"), \" min\");\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_70_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵpipe(7, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 3, \"label.eclipticLonLat\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(6, 5, p_r12.voyager.trajectory == null ? null : p_r12.voyager.trajectory.eclipticLonDeg, \"1.0-1\"), \" deg / \", i0.ɵɵpipeBind2(7, 8, p_r12.voyager.trajectory == null ? null : p_r12.voyager.trajectory.eclipticLatDeg, \"1.0-1\"), \" deg \");\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_71_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.velocityAzimuth\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(6, 4, p_r12.voyager.trajectory == null ? null : p_r12.voyager.trajectory.velocityAzimuthDeg, \"1.0-0\"), \" deg\");\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_72_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.velocityLat\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(6, 4, p_r12.voyager.trajectory == null ? null : p_r12.voyager.trajectory.velocityLatDeg, \"1.0-1\"), \" deg\");\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_div_77_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 64);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"t\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"voyager.details\"), \" \");\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 43)(2, \"div\", 44);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 45);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 46);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 47);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(10, \"svg\", 48);\n    i0.ɵɵtemplate(11, VoyagerMapComponent_div_19_ng_container_3__svg_circle_11_Template, 1, 3, \"circle\", 49);\n    i0.ɵɵelement(12, \"circle\", 50)(13, \"circle\", 51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵnamespaceHTML();\n    i0.ɵɵelementStart(14, \"div\", 52)(15, \"div\", 53);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 54);\n    i0.ɵɵtext(19);\n    i0.ɵɵpipe(20, \"t\");\n    i0.ɵɵtemplate(21, VoyagerMapComponent_div_19_ng_container_3_ng_container_21_Template, 4, 7, \"ng-container\", 55)(22, VoyagerMapComponent_div_19_ng_container_3_ng_template_22_Template, 1, 0, \"ng-template\", null, 0, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(24, \"div\", 56)(25, \"div\", 57)(26, \"div\", 58);\n    i0.ɵɵtext(27);\n    i0.ɵɵpipe(28, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"div\", 59);\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"t\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(32, VoyagerMapComponent_div_19_ng_container_3_div_32_Template, 6, 4, \"div\", 60)(33, VoyagerMapComponent_div_19_ng_container_3_div_33_Template, 6, 4, \"div\", 60);\n    i0.ɵɵelementStart(34, \"div\", 57)(35, \"div\", 58);\n    i0.ɵɵtext(36);\n    i0.ɵɵpipe(37, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(38, \"div\", 59);\n    i0.ɵɵtext(39);\n    i0.ɵɵpipe(40, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(41, VoyagerMapComponent_div_19_ng_container_3_div_41_Template, 8, 10, \"div\", 60)(42, VoyagerMapComponent_div_19_ng_container_3_div_42_Template, 7, 7, \"div\", 60)(43, VoyagerMapComponent_div_19_ng_container_3_div_43_Template, 7, 7, \"div\", 60)(44, VoyagerMapComponent_div_19_ng_container_3_div_44_Template, 7, 7, \"div\", 60)(45, VoyagerMapComponent_div_19_ng_container_3_div_45_Template, 7, 7, \"div\", 60)(46, VoyagerMapComponent_div_19_ng_container_3_div_46_Template, 7, 7, \"div\", 60);\n    i0.ɵɵelementStart(47, \"div\", 57)(48, \"div\", 58);\n    i0.ɵɵtext(49);\n    i0.ɵɵpipe(50, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(51, \"div\", 59);\n    i0.ɵɵtext(52);\n    i0.ɵɵpipe(53, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(54, VoyagerMapComponent_div_19_ng_container_3_div_54_Template, 7, 7, \"div\", 60)(55, VoyagerMapComponent_div_19_ng_container_3_div_55_Template, 7, 7, \"div\", 60)(56, VoyagerMapComponent_div_19_ng_container_3_div_56_Template, 7, 7, \"div\", 60)(57, VoyagerMapComponent_div_19_ng_container_3_div_57_Template, 7, 7, \"div\", 60)(58, VoyagerMapComponent_div_19_ng_container_3_div_58_Template, 7, 7, \"div\", 60)(59, VoyagerMapComponent_div_19_ng_container_3_div_59_Template, 7, 7, \"div\", 60)(60, VoyagerMapComponent_div_19_ng_container_3_div_60_Template, 7, 7, \"div\", 60)(61, VoyagerMapComponent_div_19_ng_container_3_div_61_Template, 7, 7, \"div\", 60)(62, VoyagerMapComponent_div_19_ng_container_3_div_62_Template, 7, 7, \"div\", 60)(63, VoyagerMapComponent_div_19_ng_container_3_div_63_Template, 7, 7, \"div\", 60)(64, VoyagerMapComponent_div_19_ng_container_3_div_64_Template, 7, 7, \"div\", 60)(65, VoyagerMapComponent_div_19_ng_container_3_div_65_Template, 7, 7, \"div\", 60)(66, VoyagerMapComponent_div_19_ng_container_3_div_66_Template, 7, 7, \"div\", 60)(67, VoyagerMapComponent_div_19_ng_container_3_div_67_Template, 7, 7, \"div\", 60)(68, VoyagerMapComponent_div_19_ng_container_3_div_68_Template, 7, 7, \"div\", 60)(69, VoyagerMapComponent_div_19_ng_container_3_div_69_Template, 7, 7, \"div\", 60)(70, VoyagerMapComponent_div_19_ng_container_3_div_70_Template, 8, 11, \"div\", 60)(71, VoyagerMapComponent_div_19_ng_container_3_div_71_Template, 7, 7, \"div\", 60)(72, VoyagerMapComponent_div_19_ng_container_3_div_72_Template, 7, 7, \"div\", 60);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(73, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function VoyagerMapComponent_div_19_ng_container_3_Template_button_click_73_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.toggleExpanded());\n    });\n    i0.ɵɵtext(74);\n    i0.ɵɵpipe(75, \"t\");\n    i0.ɵɵpipe(76, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(77, VoyagerMapComponent_div_19_ng_container_3_div_77_Template, 3, 3, \"div\", 62);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const noYears_r14 = i0.ɵɵreference(23);\n    const p_r12 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 54, \"label.live\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r12.voyager.id === \"voyager2\" ? \"Voyager 2\" : \"Voyager 1\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.projectedTimestamp(p_r12.voyager));\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"voyager2\", p_r12.voyager.id === \"voyager2\");\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"width\", ctx_r1.miniSize)(\"height\", ctx_r1.miniSize)(\"viewBox\", \"0 0 \" + ctx_r1.miniSize + \" \" + ctx_r1.miniSize);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.ringsAu);\n    i0.ɵɵadvance();\n    i0.ɵɵattribute(\"cx\", ctx_r1.miniCenter)(\"cy\", ctx_r1.miniCenter);\n    i0.ɵɵadvance();\n    i0.ɵɵclassProp(\"v2\", p_r12.voyager.id === \"voyager2\");\n    i0.ɵɵattribute(\"cx\", ctx_r1.miniPoint(p_r12.voyager).x)(\"cy\", ctx_r1.miniPoint(p_r12.voyager).y);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(17, 56, \"label.syntheticPosition\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(20, 58, \"label.timeScaleYears\"), \": \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.travelYears(p_r12.voyager))(\"ngIfElse\", noYears_r14);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(28, 60, \"label.galaxy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(31, 62, \"context.milky.title\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", p_r12.voyager.source);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", p_r12.voyager.referenceFrame);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(37, 64, \"label.distanceSun\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(40, 66, ctx_r1.projectedDistanceFromSunAu(p_r12.voyager), \"1.1-1\"), \" AU\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.travelYears(p_r12.voyager));\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.distanceFromSun == null ? null : p_r12.voyager.distanceFromSun.km) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.distanceFromSun == null ? null : p_r12.voyager.distanceFromSun.miles) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.distanceFromEarth == null ? null : p_r12.voyager.distanceFromEarth.au) !== undefined);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.distanceFromEarth == null ? null : p_r12.voyager.distanceFromEarth.km) !== undefined && (p_r12.voyager.distanceFromEarth == null ? null : p_r12.voyager.distanceFromEarth.km) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.distanceFromEarth == null ? null : p_r12.voyager.distanceFromEarth.miles) !== undefined && (p_r12.voyager.distanceFromEarth == null ? null : p_r12.voyager.distanceFromEarth.miles) !== null);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(50, 69, \"label.speed\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(53, 71, p_r12.voyager.speed == null ? null : p_r12.voyager.speed.kmPerS, \"1.2-2\"), \" km/s\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.speed == null ? null : p_r12.voyager.speed.auPerDay) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.speed == null ? null : p_r12.voyager.speed.milesPerS) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.positionAu == null ? null : p_r12.voyager.positionAu.x) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.positionAu == null ? null : p_r12.voyager.positionAu.y) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.positionAu == null ? null : p_r12.voyager.positionAu.z) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.velocityAuPerDay == null ? null : p_r12.voyager.velocityAuPerDay.vx) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.velocityAuPerDay == null ? null : p_r12.voyager.velocityAuPerDay.vy) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.velocityAuPerDay == null ? null : p_r12.voyager.velocityAuPerDay.vz) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.positionKm == null ? null : p_r12.voyager.positionKm.x) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.positionKm == null ? null : p_r12.voyager.positionKm.y) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.positionKm == null ? null : p_r12.voyager.positionKm.z) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.velocityKmPerS == null ? null : p_r12.voyager.velocityKmPerS.vx) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.velocityKmPerS == null ? null : p_r12.voyager.velocityKmPerS.vy) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.velocityKmPerS == null ? null : p_r12.voyager.velocityKmPerS.vz) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.lightTime == null ? null : p_r12.voyager.lightTime.oneWayMinutes) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.lightTime == null ? null : p_r12.voyager.lightTime.twoWayMinutes) !== null);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.trajectory == null ? null : p_r12.voyager.trajectory.eclipticLonDeg) !== undefined);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.trajectory == null ? null : p_r12.voyager.trajectory.velocityAzimuthDeg) !== undefined);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", (p_r12.voyager.trajectory == null ? null : p_r12.voyager.trajectory.velocityLatDeg) !== undefined);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.expanded ? i0.ɵɵpipeBind1(75, 74, \"label.detailsLess\") : i0.ɵɵpipeBind1(76, 76, \"label.detailsMore\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.expanded);\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_4_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 46);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"t\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"label.outOfScale\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_4_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"number\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext(2).ngIf;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.distanceAu\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(6, 4, p_r12.node.distanceAu, \"1.0-0\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_4_div_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 57)(1, \"div\", 58);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 59);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"t\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 2, \"label.scale\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 4, \"label.outOfScale\"));\n  }\n}\nfunction VoyagerMapComponent_div_19_ng_container_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 43)(2, \"div\", 44);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 45);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, VoyagerMapComponent_div_19_ng_container_4_div_7_Template, 3, 3, \"div\", 65);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 56)(9, \"div\", 57)(10, \"div\", 58);\n    i0.ɵɵtext(11);\n    i0.ɵɵpipe(12, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 59);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"div\", 57)(16, \"div\", 58);\n    i0.ɵɵtext(17);\n    i0.ɵɵpipe(18, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"div\", 59);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"number\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(22, VoyagerMapComponent_div_19_ng_container_4_div_22_Template, 7, 7, \"div\", 60)(23, VoyagerMapComponent_div_19_ng_container_4_div_23_Template, 7, 6, \"div\", 60);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 64);\n    i0.ɵɵtext(25);\n    i0.ɵɵpipe(26, \"t\");\n    i0.ɵɵpipe(27, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"button\", 61);\n    i0.ɵɵlistener(\"click\", function VoyagerMapComponent_div_19_ng_container_4_Template_button_click_28_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r1 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r1.toggleExpanded());\n    });\n    i0.ɵɵtext(29);\n    i0.ɵɵpipe(30, \"t\");\n    i0.ɵɵpipe(31, \"t\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const p_r12 = i0.ɵɵnextContext().ngIf;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r12.node.kind.toUpperCase());\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 11, p_r12.node.titleKey));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", p_r12.node.notToScale);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(12, 13, \"label.type\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r12.node.kind);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(18, 15, \"label.angle\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(21, 17, p_r12.node.angleDeg, \"1.0-0\"), \" deg\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", p_r12.node.distanceAu !== undefined);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", p_r12.node.notToScale);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.expanded ? i0.ɵɵpipeBind1(26, 20, p_r12.node.longKey) : i0.ɵɵpipeBind1(27, 22, p_r12.node.shortKey), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r1.expanded ? i0.ɵɵpipeBind1(30, 24, \"label.detailsShort\") : i0.ɵɵpipeBind1(31, 26, \"label.detailsLong\"), \" \");\n  }\n}\nfunction VoyagerMapComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 40)(1, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function VoyagerMapComponent_div_19_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r1.closePanel());\n    });\n    i0.ɵɵtext(2, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, VoyagerMapComponent_div_19_ng_container_3_Template, 78, 78, \"ng-container\", 42)(4, VoyagerMapComponent_div_19_ng_container_4_Template, 32, 28, \"ng-container\", 42);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const p_r12 = ctx.ngIf;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", p_r12.kind === \"voyager\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", p_r12.kind === \"node\");\n  }\n}\nexport let VoyagerMapComponent = /*#__PURE__*/(() => {\n  class VoyagerMapComponent {\n    constructor(voyagerService, time, i18n, cdr) {\n      this.voyagerService = voyagerService;\n      this.time = time;\n      this.i18n = i18n;\n      this.cdr = cdr;\n      this.id = 'voyager1';\n      this.width = 800;\n      this.height = 800;\n      this.centerX = 400;\n      this.centerY = 400;\n      this.miniSize = 140;\n      this.miniCenter = 70;\n      this.refreshIntervalMs = 5_000;\n      this.trailDays = 3650;\n      this.trailSteps = 36;\n      this.maxTrailPoints = 140;\n      this.trailHistory = new Map();\n      this.daysPerYear = 365.25;\n      this.snapshot = null;\n      this.voyagers = [];\n      this.active = null;\n      this.other = null;\n      // Log scale max distance: ~4.75 ly (300k AU) keeps Voyager visible.\n      this.maxDistanceAu = 300_000;\n      this.offsetDays = 0;\n      this.nowMs = Date.now();\n      this.selectedPanel = null;\n      this.expanded = false;\n      this.baseNodes = [{\n        id: 'kuiper',\n        kind: 'region',\n        titleKey: 'context.kuiper.title',\n        angleDeg: 210,\n        distanceAu: 45,\n        shortKey: 'context.kuiper.short',\n        longKey: 'context.kuiper.long'\n      }, {\n        id: 'heliopause',\n        kind: 'region',\n        titleKey: 'context.heliopause.title',\n        angleDeg: 320,\n        distanceAu: 120,\n        shortKey: 'context.heliopause.short',\n        longKey: 'context.heliopause.long'\n      }, {\n        id: 'oort',\n        kind: 'region',\n        titleKey: 'context.oort.title',\n        angleDeg: 30,\n        distanceAu: 50_000,\n        shortKey: 'context.oort.short',\n        longKey: 'context.oort.long'\n      }, {\n        id: 'proxima',\n        kind: 'star',\n        titleKey: 'context.proxima.title',\n        angleDeg: 120,\n        distanceAu: 268_000,\n        shortKey: 'context.proxima.short',\n        longKey: 'context.proxima.long'\n      }, {\n        id: 'alpha-centauri',\n        kind: 'star',\n        titleKey: 'context.alpha.title',\n        angleDeg: 150,\n        distanceAu: 276_000,\n        shortKey: 'context.alpha.short',\n        longKey: 'context.alpha.long'\n      }, {\n        id: 'milky-way',\n        kind: 'galaxy',\n        titleKey: 'context.milky.title',\n        angleDeg: 260,\n        notToScale: true,\n        shortKey: 'context.milky.short',\n        longKey: 'context.milky.long'\n      }, {\n        id: 'andromeda',\n        kind: 'galaxy',\n        titleKey: 'context.andromeda.title',\n        angleDeg: 280,\n        notToScale: true,\n        shortKey: 'context.andromeda.short',\n        longKey: 'context.andromeda.long'\n      }];\n    }\n    ngOnInit() {\n      this.updateDimensionsFromWindow();\n      this.startPolling();\n      this.startAnimationLoop();\n      this.timeSub = this.time.offsetDays$.subscribe(days => {\n        this.offsetDays = days;\n      });\n      this.langSub = this.i18n.lang$.subscribe(() => {\n        this.cdr.markForCheck();\n      });\n    }\n    ngOnDestroy() {\n      this.sub?.unsubscribe();\n      this.sub = undefined;\n      this.timeSub?.unsubscribe();\n      this.timeSub = undefined;\n      this.frameSub?.unsubscribe();\n      this.frameSub = undefined;\n      this.langSub?.unsubscribe();\n      this.langSub = undefined;\n    }\n    onResize() {\n      this.updateDimensionsFromWindow();\n    }\n    updateDimensionsFromWindow() {\n      this.width = Math.max(320, window.innerWidth);\n      this.height = Math.max(320, window.innerHeight);\n      this.centerX = this.width / 2;\n      this.centerY = this.height / 2;\n    }\n    startPolling() {\n      this.sub?.unsubscribe();\n      this.sub = interval(this.refreshIntervalMs).pipe(startWith(0), switchMap(() => this.voyagerService.getVoyagers({\n        forceRefresh: true\n      }))).subscribe({\n        next: snapshot => {\n          this.snapshot = snapshot;\n          this.voyagers = snapshot.voyagers ?? [];\n          this.updateTrailHistory(snapshot);\n          this.pickActive();\n        },\n        error: () => {\n          // Garde la derniere valeur si l'API tombe.\n        }\n      });\n    }\n    startAnimationLoop() {\n      this.frameSub?.unsubscribe();\n      this.frameSub = animationFrames().pipe(sampleTime(33)).subscribe(() => {\n        this.nowMs = Date.now();\n      });\n    }\n    pickActive() {\n      const wanted = this.id === 'voyager2' ? 'voyager2' : 'voyager1';\n      const v1 = this.voyagers.find(v => v.id === 'voyager1') ?? null;\n      const v2 = this.voyagers.find(v => v.id === 'voyager2') ?? null;\n      this.active = wanted === 'voyager1' ? v1 : v2;\n      this.other = wanted === 'voyager1' ? v2 : v1;\n    }\n    updateTrailHistory(snapshot) {\n      for (const v of snapshot.voyagers ?? []) {\n        const pos = v.positionAu;\n        if (!Number.isFinite(pos?.x) || !Number.isFinite(pos?.y) || !Number.isFinite(pos?.z)) {\n          continue;\n        }\n        const list = this.trailHistory.get(v.id) ?? [];\n        const last = list[list.length - 1];\n        if (last?.timestamp === v.timestamp) {\n          continue;\n        }\n        list.push({\n          x: pos.x,\n          y: pos.y,\n          z: pos.z,\n          vx: this.finiteOrZero(v.velocityAuPerDay?.vx),\n          vy: this.finiteOrZero(v.velocityAuPerDay?.vy),\n          vz: this.finiteOrZero(v.velocityAuPerDay?.vz),\n          timestamp: v.timestamp\n        });\n        if (list.length > this.maxTrailPoints) {\n          list.splice(0, list.length - this.maxTrailPoints);\n        }\n        this.trailHistory.set(v.id, list);\n      }\n    }\n    get ringsAu() {\n      return [1, 10, 100, 1_000, 10_000, 50_000, 100_000, 300_000];\n    }\n    miniRadiusPx(au) {\n      const maxRadiusPx = this.miniSize / 2 - 16;\n      const d = Math.max(0, au);\n      const max = Math.max(1, this.maxDistanceAu);\n      const t = Math.log10(1 + d) / Math.log10(1 + max);\n      return t * maxRadiusPx;\n    }\n    miniPoint(v) {\n      const pos = this.projectedPositionAu(v);\n      const theta = Math.atan2(pos.y, pos.x);\n      const rAu = Math.sqrt(pos.x * pos.x + pos.y * pos.y + pos.z * pos.z) || 0;\n      const rPx = this.miniRadiusPx(rAu);\n      return {\n        x: this.miniCenter + rPx * Math.cos(theta),\n        y: this.miniCenter + rPx * Math.sin(theta)\n      };\n    }\n    auToRadiusPx(au) {\n      const maxRadiusPx = Math.min(this.width, this.height) / 2 - 70;\n      const d = Math.max(0, au);\n      const max = Math.max(1, this.maxDistanceAu);\n      const t = Math.log10(1 + d) / Math.log10(1 + max);\n      return t * maxRadiusPx;\n    }\n    voyagerX(v) {\n      return this.screenPointFromPosition(this.projectedPositionAu(v)).x;\n    }\n    voyagerY(v) {\n      return this.screenPointFromPosition(this.projectedPositionAu(v)).y;\n    }\n    voyagerTrailPath(v) {\n      const history = this.trailHistory.get(v.id);\n      if (history && history.length > 1) {\n        const basePath = this.trailPathFromHistory(history);\n        const livePoint = this.screenPointFromPosition(this.projectedPositionAu(v));\n        return `${basePath} L ${livePoint.x} ${livePoint.y}`;\n      }\n      if (this.trailSteps <= 0 || this.trailDays <= 0) return '';\n      const stepDays = this.trailDays / this.trailSteps;\n      const baseDays = this.effectiveDaysFromTimestamp(v.timestamp);\n      let path = '';\n      for (let i = this.trailSteps; i >= 0; i -= 1) {\n        const daysOffset = baseDays - i * stepDays;\n        const pos = this.projectedPositionAuAt(v, daysOffset);\n        const point = this.screenPointFromPosition(pos);\n        path += i === this.trailSteps ? `M ${point.x} ${point.y}` : ` L ${point.x} ${point.y}`;\n      }\n      return path;\n    }\n    trailPathFromHistory(history) {\n      let path = '';\n      for (let i = 0; i < history.length; i += 1) {\n        const pos = this.advanceTrailPoint(history[i]);\n        const point = this.screenPointFromPosition(pos);\n        path += i === 0 ? `M ${point.x} ${point.y}` : ` L ${point.x} ${point.y}`;\n      }\n      return path;\n    }\n    advanceTrailPoint(point) {\n      const offset = this.offsetDays;\n      return {\n        x: point.x + point.vx * offset,\n        y: point.y + point.vy * offset,\n        z: point.z + point.vz * offset\n      };\n    }\n    voyagerHeadingDeg(v) {\n      const vx = this.finiteOrZero(v.velocityAuPerDay?.vx);\n      const vy = this.finiteOrZero(v.velocityAuPerDay?.vy);\n      if (vx !== 0 || vy !== 0) {\n        return Math.atan2(vy, vx) * 180 / Math.PI;\n      }\n      const pos = this.projectedPositionAu(v);\n      return Math.atan2(pos.y, pos.x) * 180 / Math.PI;\n    }\n    probeTransform(v) {\n      const pos = this.screenPointFromPosition(this.projectedPositionAu(v));\n      const heading = this.voyagerHeadingDeg(v);\n      const scale = this.isSelectedVoyager(v) ? 1.5 : 1;\n      return `translate(${pos.x} ${pos.y}) rotate(${heading}) scale(${scale})`;\n    }\n    trackByVoyagerId(_, v) {\n      return v.id;\n    }\n    projectedPositionAu(v) {\n      return this.projectedPositionAuAt(v, this.effectiveDaysFromTimestamp(v.timestamp));\n    }\n    projectedPositionAuAt(v, offsetDays) {\n      const x0 = this.finiteOrZero(v.positionAu?.x);\n      const y0 = this.finiteOrZero(v.positionAu?.y);\n      const z0 = this.finiteOrZero(v.positionAu?.z);\n      const vx = this.finiteOrZero(v.velocityAuPerDay?.vx);\n      const vy = this.finiteOrZero(v.velocityAuPerDay?.vy);\n      const vz = this.finiteOrZero(v.velocityAuPerDay?.vz);\n      return {\n        x: x0 + vx * offsetDays,\n        y: y0 + vy * offsetDays,\n        z: z0 + vz * offsetDays\n      };\n    }\n    screenPointFromPosition(pos) {\n      const theta = Math.atan2(pos.y, pos.x);\n      const rAu = Math.sqrt(pos.x * pos.x + pos.y * pos.y + pos.z * pos.z) || 0;\n      const rPx = this.auToRadiusPx(rAu || 0);\n      return {\n        x: this.centerX + rPx * Math.cos(theta),\n        y: this.centerY + rPx * Math.sin(theta)\n      };\n    }\n    effectiveDaysFromTimestamp(timestamp) {\n      const baseTs = Date.parse(timestamp || '');\n      const liveDays = Number.isFinite(baseTs) ? (this.nowMs - baseTs) / 86_400_000 : 0;\n      return this.offsetDays + liveDays;\n    }\n    finiteOrZero(value) {\n      return Number.isFinite(value) ? value : 0;\n    }\n    projectedDistanceFromSunAu(v) {\n      const p = this.projectedPositionAu(v);\n      const r = Math.sqrt(p.x * p.x + p.y * p.y + p.z * p.z);\n      return Number.isFinite(r) ? r : null;\n    }\n    travelYears(v) {\n      const distAu = this.projectedDistanceFromSunAu(v);\n      const speedAuPerDay = v.speed?.auPerDay ?? null;\n      if (!Number.isFinite(distAu) || !Number.isFinite(speedAuPerDay) || speedAuPerDay === 0) {\n        return null;\n      }\n      const days = distAu / speedAuPerDay;\n      return days / this.daysPerYear;\n    }\n    isSelectedVoyager(v) {\n      return this.selectedPanel?.kind === 'voyager' && this.selectedPanel.voyager.id === v.id;\n    }\n    projectedTimestamp(v) {\n      const base = Date.parse(v.timestamp || '');\n      if (!Number.isFinite(base)) return v.timestamp;\n      return new Date(base + this.offsetDays * 86_400_000).toISOString();\n    }\n    get plottedNodes() {\n      const maxRadiusPx = Math.min(this.width, this.height) / 2 - 70;\n      return this.baseNodes.map(n => {\n        const angle = n.angleDeg * Math.PI / 180;\n        const rPx = n.distanceAu !== undefined ? this.auToRadiusPx(n.distanceAu) : maxRadiusPx * 0.92;\n        return {\n          ...n,\n          x: this.centerX + rPx * Math.cos(angle),\n          y: this.centerY + rPx * Math.sin(angle)\n        };\n      });\n    }\n    openVoyager(v) {\n      this.selectedPanel = {\n        kind: 'voyager',\n        voyager: v\n      };\n      this.expanded = false;\n    }\n    openNode(n) {\n      this.selectedPanel = {\n        kind: 'node',\n        node: n\n      };\n      this.expanded = false;\n    }\n    closePanel() {\n      this.selectedPanel = null;\n      this.expanded = false;\n    }\n    toggleExpanded() {\n      this.expanded = !this.expanded;\n    }\n    get activeTitle() {\n      return this.active?.id === 'voyager2' ? 'Voyager 2' : 'Voyager 1';\n    }\n    formatDistanceLabelAu(au) {\n      if (au === null || au === undefined || !Number.isFinite(au)) return '-';\n      if (au >= 100_000) return `${(au / 1000).toFixed(0)}k UA`;\n      if (au >= 1000) return `${au.toFixed(0)} UA`;\n      return `${au.toFixed(1)} UA`;\n    }\n    static {\n      this.ɵfac = function VoyagerMapComponent_Factory(t) {\n        return new (t || VoyagerMapComponent)(i0.ɵɵdirectiveInject(i1.VoyagerService), i0.ɵɵdirectiveInject(i2.TimeScrubberService), i0.ɵɵdirectiveInject(i3.I18nService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: VoyagerMapComponent,\n        selectors: [[\"app-voyager-map\"]],\n        hostBindings: function VoyagerMapComponent_HostBindings(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵlistener(\"resize\", function VoyagerMapComponent_resize_HostBindingHandler() {\n              return ctx.onResize();\n            }, false, i0.ɵɵresolveWindow);\n          }\n        },\n        inputs: {\n          id: \"id\"\n        },\n        decls: 20,\n        vars: 22,\n        consts: [[\"noYears\", \"\"], [1, \"universe\"], [\"role\", \"img\", 1, \"universe-svg\"], [\"id\", \"sunGlow\"], [\"offset\", \"0%\", \"stop-color\", \"#fff7c2\", \"stop-opacity\", \"1\"], [\"offset\", \"55%\", \"stop-color\", \"#ffcc33\", \"stop-opacity\", \"0.9\"], [\"offset\", \"100%\", \"stop-color\", \"#dd8800\", \"stop-opacity\", \"0.0\"], [1, \"rings\"], [\"class\", \"ring\", 4, \"ngFor\", \"ngForOf\"], [\"r\", \"10\", \"fill\", \"url(#sunGlow)\", 1, \"sun\"], [\"r\", \"3.8\", \"fill\", \"#ffcc33\", 1, \"sun-core\"], [1, \"sun-label\"], [1, \"context\"], [3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"voyagers\", 4, \"ngIf\"], [\"class\", \"panel\", \"role\", \"dialog\", \"aria-modal\", \"true\", 4, \"ngIf\"], [1, \"ring\"], [3, \"click\"], [\"r\", \"3.2\", 1, \"ctx-dot\"], [1, \"ctx-label\"], [1, \"voyagers\"], [\"class\", \"voyager\", 3, \"active\", \"selected\", \"voyager2\", 4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"voyager\"], [1, \"trail\"], [1, \"ray\"], [1, \"probe-shape\", 3, \"click\"], [\"r\", \"11\", 1, \"probe-hit\"], [\"x\", \"-3.8\", \"y\", \"-2.6\", \"width\", \"7.6\", \"height\", \"5.2\", \"rx\", \"0.8\", 1, \"probe-body\"], [\"cx\", \"8.4\", \"cy\", \"0\", \"r\", \"4.1\", 1, \"probe-dish\"], [\"cx\", \"8.4\", \"cy\", \"0\", \"r\", \"1.4\", 1, \"probe-dish-core\"], [\"x1\", \"-3.8\", \"y1\", \"0\", \"x2\", \"-12.5\", \"y2\", \"0\", 1, \"probe-boom\"], [\"x1\", \"-5.5\", \"y1\", \"-2.8\", \"x2\", \"-12.8\", \"y2\", \"-5.2\", 1, \"probe-boom\"], [\"x1\", \"-5.5\", \"y1\", \"2.8\", \"x2\", \"-12.8\", \"y2\", \"5.2\", 1, \"probe-boom\"], [\"cx\", \"-12.8\", \"cy\", \"-5.2\", \"r\", \"1.5\", 1, \"probe-rtg\"], [\"cx\", \"-12.8\", \"cy\", \"5.2\", \"r\", \"1.5\", 1, \"probe-rtg\"], [\"cx\", \"-14.6\", \"cy\", \"0\", \"r\", \"1.2\", 1, \"probe-sensor\"], [1, \"probe-label\"], [1, \"probe-sub\"], [\"class\", \"probe-year\", 4, \"ngIf\"], [1, \"probe-year\"], [\"role\", \"dialog\", \"aria-modal\", \"true\", 1, \"panel\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [4, \"ngIf\"], [1, \"panel-hdr\"], [1, \"tag\"], [1, \"title\"], [1, \"sub\"], [1, \"synth\"], [\"aria-hidden\", \"true\", 1, \"synth-map\"], [\"class\", \"synth-ring\", 4, \"ngFor\", \"ngForOf\"], [\"r\", \"6\", 1, \"synth-sun\"], [\"r\", \"3.6\", 1, \"synth-probe\"], [1, \"synth-meta\"], [1, \"synth-title\"], [1, \"synth-sub\"], [4, \"ngIf\", \"ngIfElse\"], [1, \"rows\"], [1, \"row\"], [1, \"k\"], [1, \"v\"], [\"class\", \"row\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"expand\", 3, \"click\"], [\"class\", \"details\", 4, \"ngIf\"], [1, \"synth-ring\"], [1, \"details\"], [\"class\", \"sub\", 4, \"ngIf\"]],\n        template: function VoyagerMapComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 1);\n            i0.ɵɵnamespaceSVG();\n            i0.ɵɵelementStart(1, \"svg\", 2);\n            i0.ɵɵpipe(2, \"t\");\n            i0.ɵɵelementStart(3, \"defs\")(4, \"radialGradient\", 3);\n            i0.ɵɵelement(5, \"stop\", 4)(6, \"stop\", 5)(7, \"stop\", 6);\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(8, \"g\", 7);\n            i0.ɵɵpipe(9, \"t\");\n            i0.ɵɵtemplate(10, VoyagerMapComponent__svg_circle_10_Template, 1, 3, \"circle\", 8);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelement(11, \"circle\", 9)(12, \"circle\", 10);\n            i0.ɵɵelementStart(13, \"text\", 11);\n            i0.ɵɵtext(14);\n            i0.ɵɵpipe(15, \"t\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"g\", 12);\n            i0.ɵɵtemplate(17, VoyagerMapComponent__svg_g_17_Template, 5, 9, \"g\", 13);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(18, VoyagerMapComponent__svg_g_18_Template, 2, 2, \"g\", 14);\n            i0.ɵɵelementEnd();\n            i0.ɵɵtemplate(19, VoyagerMapComponent_div_19_Template, 5, 2, \"div\", 15);\n            i0.ɵɵelementEnd();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance();\n            i0.ɵɵattribute(\"width\", ctx.width)(\"height\", ctx.height)(\"viewBox\", \"0 0 \" + ctx.width + \" \" + ctx.height)(\"aria-label\", i0.ɵɵpipeBind1(2, 16, \"aria.voyagerMap\"));\n            i0.ɵɵadvance(7);\n            i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(9, 18, \"aria.scale\"));\n            i0.ɵɵadvance(2);\n            i0.ɵɵproperty(\"ngForOf\", ctx.ringsAu);\n            i0.ɵɵadvance();\n            i0.ɵɵattribute(\"cx\", ctx.centerX)(\"cy\", ctx.centerY);\n            i0.ɵɵadvance();\n            i0.ɵɵattribute(\"cx\", ctx.centerX)(\"cy\", ctx.centerY);\n            i0.ɵɵadvance();\n            i0.ɵɵattribute(\"x\", ctx.centerX + 14)(\"y\", ctx.centerY - 10);\n            i0.ɵɵadvance();\n            i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(15, 20, \"name.sun\"), \" \");\n            i0.ɵɵadvance(3);\n            i0.ɵɵproperty(\"ngForOf\", ctx.plottedNodes);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.voyagers.length);\n            i0.ɵɵadvance();\n            i0.ɵɵproperty(\"ngIf\", ctx.selectedPanel);\n          }\n        },\n        dependencies: [i4.NgForOf, i4.NgIf, i4.DecimalPipe, i5.TranslatePipe],\n        styles: [\"[_nghost-%COMP%]{display:block;width:100vw;height:100vh;overflow:hidden;background:radial-gradient(circle at 50% 40%,#060a22,#03040c 45%,#000)}.universe[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.universe[_ngcontent-%COMP%]:before{content:\\\"\\\";position:absolute;inset:0;pointer-events:none;background:radial-gradient(circle at 20% 30%,rgba(88,101,242,.08),transparent 45%),radial-gradient(circle at 70% 60%,rgba(0,255,240,.05),transparent 42%),radial-gradient(circle at 40% 80%,rgba(255,0,128,.04),transparent 50%),radial-gradient(circle at 12% 18%,rgba(255,255,255,.22) 0 1px,transparent 2px),radial-gradient(circle at 33% 72%,rgba(255,255,255,.18) 0 1px,transparent 2px),radial-gradient(circle at 82% 35%,rgba(255,255,255,.16) 0 1px,transparent 2px);filter:blur(.2px);opacity:.95}.universe-svg[_ngcontent-%COMP%]{width:100%;height:100%;display:block;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}.rings[_ngcontent-%COMP%]{pointer-events:none}.ring[_ngcontent-%COMP%]{fill:none;stroke:#00fff01a;stroke-width:1;stroke-dasharray:2 7}.sun[_ngcontent-%COMP%]{filter:drop-shadow(0 0 18px rgba(255,204,51,.7))}.sun-core[_ngcontent-%COMP%]{filter:drop-shadow(0 0 10px rgba(255,204,51,.8));pointer-events:none}.sun-label[_ngcontent-%COMP%]{fill:#fff0c8e6;font-size:12px;font-weight:800;letter-spacing:.08em;text-transform:uppercase;paint-order:stroke;stroke:#000c;stroke-width:3px;pointer-events:none}.context[_ngcontent-%COMP%]{cursor:pointer}.ctx-dot[_ngcontent-%COMP%]{fill:#00fff0d9;filter:drop-shadow(0 0 8px rgba(0,255,240,.35))}.ctx-dot.galaxy[_ngcontent-%COMP%]{fill:#ff0080bf;filter:drop-shadow(0 0 10px rgba(255,0,128,.35))}.ctx-label[_ngcontent-%COMP%]{fill:#eef2ffc7;font-size:11px;font-weight:700;letter-spacing:.04em;paint-order:stroke;stroke:#000000bf;stroke-width:3px}.ray[_ngcontent-%COMP%]{stroke:#00fff061;stroke-width:1.4;filter:drop-shadow(0 0 10px rgba(0,255,240,.25));pointer-events:none}.voyager[_ngcontent-%COMP%]   .ray[_ngcontent-%COMP%]{opacity:.45}.voyager.active[_ngcontent-%COMP%]   .ray[_ngcontent-%COMP%]{opacity:.9}.trail[_ngcontent-%COMP%]{fill:none;stroke:#00fff047;stroke-width:1.2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:4 8;filter:drop-shadow(0 0 10px rgba(0,255,240,.18));pointer-events:none}.voyager.active[_ngcontent-%COMP%]   .trail[_ngcontent-%COMP%]{stroke:#00fff08c;stroke-dasharray:6 6}.voyager.voyager2[_ngcontent-%COMP%]   .trail[_ngcontent-%COMP%]{stroke:#ff00804d}.voyager.voyager2.active[_ngcontent-%COMP%]   .trail[_ngcontent-%COMP%]{stroke:#ff008099}.probe-shape[_ngcontent-%COMP%]{cursor:pointer;filter:drop-shadow(0 0 12px rgba(0,255,240,.38))}.probe-hit[_ngcontent-%COMP%]{fill:transparent;pointer-events:all}.probe-body[_ngcontent-%COMP%]{fill:#00fff0e6;stroke:#ffffffd9;stroke-width:.8}.voyager.active[_ngcontent-%COMP%]   .probe-body[_ngcontent-%COMP%]{stroke-width:1.2}.probe-dish[_ngcontent-%COMP%]{fill:#00fff02e;stroke:#00fff0f2;stroke-width:1.1}.probe-dish-core[_ngcontent-%COMP%]{fill:#ffffffd9;stroke:#0000008c;stroke-width:.6}.probe-boom[_ngcontent-%COMP%]{stroke:#ffffffd9;stroke-width:1}.probe-rtg[_ngcontent-%COMP%]{fill:#ffffffd9;stroke:#0000008c;stroke-width:.5}.probe-sensor[_ngcontent-%COMP%]{fill:#00fff0d9;stroke:#ffffffd9;stroke-width:.5}.voyager.voyager2[_ngcontent-%COMP%]   .probe-shape[_ngcontent-%COMP%]{filter:drop-shadow(0 0 12px rgba(255,0,128,.38))}.voyager.voyager2[_ngcontent-%COMP%]   .probe-body[_ngcontent-%COMP%]{fill:#ff0080e6}.voyager.voyager2[_ngcontent-%COMP%]   .probe-dish[_ngcontent-%COMP%]{stroke:#ff0080e6}.voyager.voyager2[_ngcontent-%COMP%]   .probe-dish-core[_ngcontent-%COMP%]{fill:#ffffffe6}.voyager.voyager2[_ngcontent-%COMP%]   .probe-sensor[_ngcontent-%COMP%]{fill:#ff0080d9}.probe-label[_ngcontent-%COMP%]{fill:#eef2ffeb;font-size:12px;font-weight:900;letter-spacing:.08em;text-transform:uppercase;paint-order:stroke;stroke:#000000d9;stroke-width:3px;pointer-events:none}.probe-sub[_ngcontent-%COMP%]{fill:#eef2ffad;font-size:11px;font-weight:700;paint-order:stroke;stroke:#000000d9;stroke-width:3px;pointer-events:none}.ghost[_ngcontent-%COMP%]{opacity:.35}.panel[_ngcontent-%COMP%]{position:absolute;right:18px;bottom:18px;width:min(420px,calc(100vw - 36px));padding:14px 14px 12px;border-radius:14px;background:#060a1ab8;backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid rgba(255,255,255,.08);box-shadow:0 18px 60px #000000bf;color:#eef2ffeb;max-height:75vh;overflow-y:auto}.close[_ngcontent-%COMP%]{position:absolute;top:8px;right:10px;width:34px;height:34px;border-radius:999px;border:1px solid rgba(255,255,255,.12);background:#ffffff0a;color:#eef2ffeb;font-size:18px;cursor:pointer}.panel-hdr[_ngcontent-%COMP%]{padding-right:44px}.tag[_ngcontent-%COMP%]{display:inline-flex;padding:2px 8px;border-radius:999px;background:#00fff01f;border:1px solid rgba(0,255,240,.22);font-weight:900;letter-spacing:.14em;font-size:11px;width:-moz-fit-content;width:fit-content}.title[_ngcontent-%COMP%]{margin-top:8px;font-size:16px;font-weight:900;letter-spacing:.06em;text-transform:uppercase}.sub[_ngcontent-%COMP%]{margin-top:6px;font-size:12px;color:#eef2ffa6}.rows[_ngcontent-%COMP%]{margin-top:10px;border-top:1px solid rgba(255,255,255,.06)}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:12px;padding:8px 0;border-bottom:1px solid rgba(255,255,255,.04);font-size:12.5px}.k[_ngcontent-%COMP%]{color:#eef2ffb8}.v[_ngcontent-%COMP%]{font-weight:700}.expand[_ngcontent-%COMP%]{margin-top:10px;width:100%;padding:8px 10px;border-radius:12px;border:1px solid rgba(0,255,240,.2);background:#00fff00f;color:#eef2ffeb;font-weight:800;letter-spacing:.06em;cursor:pointer}.details[_ngcontent-%COMP%]{margin-top:10px;color:#eef2ffb8;font-size:12.5px;line-height:1.5}\"]\n      });\n    }\n  }\n  return VoyagerMapComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}